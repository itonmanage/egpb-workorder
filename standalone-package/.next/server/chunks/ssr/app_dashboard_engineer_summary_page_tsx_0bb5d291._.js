module.exports=[83854,a=>{"use strict";a.s(["default",()=>A]);var b=a.i(87924),c=a.i(72131),d=a.i(71630),e=a.i(50944),f=a.i(38246),g=a.i(2919),h=a.i(84505),i=a.i(41675),j=a.i(2710),k=a.i(24669),l=a.i(90669),m=a.i(3314),n=a.i(73570),o=a.i(18155),p=a.i(23665),q=a.i(58042),r=a.i(94222),s=a.i(54419),t=a.i(59854),u=a.i(64321),v=a.i(27165),w=a.i(67149),x=a.i(48662),y=a.i(75750),z=a.i(17981);function A(){let a=(0,e.useRouter)(),[A,B]=(0,c.useState)(!0),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)({from:"",to:""}),K=new Date,[L,M]=(0,c.useState)(K.getMonth()+1),[N,O]=(0,c.useState)(K.getFullYear()),[P,Q]=(0,c.useState)(0===K.getMonth()?12:K.getMonth()),[R,S]=(0,c.useState)(0===K.getMonth()?K.getFullYear()-1:K.getFullYear()),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(0),[Z,$]=(0,c.useState)(0),[_,aa]=(0,c.useState)(!1),ab=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],ac=Array.from({length:5},(a,b)=>K.getFullYear()-b),ad=(0,c.useCallback)(async()=>{aa(!0);try{let[a,b]=await Promise.all([d.apiClient.stats.damageTypes({month:L,year:N,type:"ENGINEER"}),d.apiClient.stats.damageTypes({month:P,year:R,type:"ENGINEER"})]);a.success&&a.data&&(U(a.data.typeBreakdown),Y(a.data.totalCount)),b.success&&b.data&&(W(b.data.typeBreakdown),$(b.data.totalCount))}catch(a){console.error("Fetch comparison error:",a)}finally{aa(!1)}},[L,N,P,R]),ae=(0,c.useCallback)(async()=>{B(!0);try{let a=await d.apiClient.stats.summary({...I,type:"ENGINEER"});a.success&&a.data?F(a.data):H(a.error||"ไม่สามารถดึงข้อมูล summary ได้")}catch(a){console.error("Fetch stats error:",a),H("เกิดข้อผิดพลาดในการโหลดข้อมูล")}finally{B(!1)}},[I]);(0,c.useEffect)(()=>{document.title="EGPB Ticket - Engineer Summary",(async()=>{try{let b=await d.apiClient.auth.getUser();if(!(b.success&&b.data?.user))return void a.push("/login");{let c=b.data.user;if(D(c),"ADMIN"!==c.role&&"ENGINEER_ADMIN"!==c.role)return void a.push("/dashboard/engineer");ae()}}catch(a){console.error("Summary init error:",a),H("เกิดข้อผิดพลาดในการโหลดข้อมูล summary"),B(!1)}})()},[a,ae]),(0,c.useEffect)(()=>{C&&ae()},[I,ae,C]),(0,c.useEffect)(()=>{C&&ad()},[ad,C]);let af=(0,c.useMemo)(()=>E?E.statusBreakdown.reduce((a,b)=>a+b.count,0):0,[E]),ag=(0,c.useMemo)(()=>E?E.statusBreakdown.map(a=>({name:z.STATUS_LABELS[a.status]||a.status,value:a.count,color:z.STATUS_COLORS[a.status]||"#9CA3AF"})).filter(a=>a.value>0):[],[E]),ah=(0,c.useMemo)(()=>E?E.typeBreakdown.map(a=>({name:a.type,count:a.count})):[],[E]);return A&&!E?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),(0,b.jsx)("p",{className:"mt-4 text-black",children:"Loading summary..."})]})}):G?(0,b.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white px-6",children:(0,b.jsxs)("div",{className:"max-w-md bg-red-50 border border-red-200 text-red-800 rounded-2xl p-6 text-center shadow-sm",children:[(0,b.jsx)(n.AlertTriangle,{size:40,className:"mx-auto mb-4 text-red-500"}),(0,b.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"ไม่สามารถโหลดข้อมูลได้"}),(0,b.jsx)("p",{className:"mb-4",children:G}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"ลองอีกครั้ง"})]})}):E?(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)("div",{className:"bg-white border-b border-green-100 px-6 py-4 sticky top-0 z-10 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center gap-4 mb-1",children:(0,b.jsxs)(f.default,{href:"/dashboard/engineer",className:"flex items-center text-gray-600 hover:text-black transition-colors",children:[(0,b.jsx)(g.ArrowLeft,{size:20}),(0,b.jsx)("span",{children:"Back to Engineer Dashboard"})]})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-black",children:"Engineer Summary"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-xl border border-gray-200",children:[(0,b.jsx)(i.Calendar,{size:18,className:"text-gray-500 ml-2"}),(0,b.jsx)("input",{type:"date",value:I.from,onChange:a=>J(b=>({...b,from:a.target.value})),className:"bg-transparent border-none text-sm focus:ring-0 text-black"}),(0,b.jsx)("span",{className:"text-gray-400",children:"-"}),(0,b.jsx)("input",{type:"date",value:I.to,onChange:a=>J(b=>({...b,to:a.target.value})),className:"bg-transparent border-none text-sm focus:ring-0 text-black"}),(I.from||I.to)&&(0,b.jsx)("button",{onClick:()=>J({from:"",to:""}),className:"ml-1 px-3 py-1 text-xs bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors font-medium",title:"Clear filter",children:"Clear"})]}),(0,b.jsxs)("button",{onClick:()=>{if(!E)return;let{typeBreakdown:a,statusBreakdown:b,locationBreakdown:c,informationByBreakdown:d,departmentBreakdown:e,departmentStatusBreakdown:f}=E,g=a.map(a=>({"Type of Damage":a.type,Count:a.count,Percentage:`${(a.count/E.totalTickets*100).toFixed(1)}%`})),h=b.map(a=>({Status:z.STATUS_LABELS[a.status]||a.status,Count:a.count,Percentage:`${(a.count/E.totalTickets*100).toFixed(1)}%`})),i=y.utils.book_new(),j=y.utils.json_to_sheet(g),k=y.utils.json_to_sheet(h);if(y.utils.book_append_sheet(i,j,"Type Breakdown"),y.utils.book_append_sheet(i,k,"Status Breakdown"),c){let a=c.map(a=>({Area:a.name,Count:a.count,Percentage:`${(a.count/E.totalTickets*100).toFixed(1)}%`})),b=y.utils.json_to_sheet(a);y.utils.book_append_sheet(i,b,"Area Breakdown")}if(d){let a=d.map(a=>({"Information By":a.name,Count:a.count,Percentage:`${(a.count/E.totalTickets*100).toFixed(1)}%`})),b=y.utils.json_to_sheet(a);y.utils.book_append_sheet(i,b,"Information By Breakdown")}if(e){let a=e.map(a=>({Department:a.name,Count:a.count,Percentage:`${(a.count/E.totalTickets*100).toFixed(1)}%`})),b=y.utils.json_to_sheet(a);y.utils.book_append_sheet(i,b,"Department Breakdown")}if(f){let a=f.map(a=>({Department:a.department,New:a.NEW,"On Process":a.IN_PROGRESS,"On Hold":a.ON_HOLD,Done:a.DONE,Cancel:a.CANCEL,Total:a.total})),b=y.utils.json_to_sheet(a);y.utils.book_append_sheet(i,b,"Department by Status")}let l=`Engineer_Summary_${I.from}_to_${I.to}.xlsx`;y.writeFile(i,l)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all shadow-sm hover:shadow-md font-medium",children:[(0,b.jsx)(h.Download,{size:18,className:"mr-2"}),"Export to Excel"]})]})]})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg hover:scale-[1.02] transition-all duration-300 cursor-default",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-gray-500 font-semibold text-sm uppercase tracking-wider",children:"Total Tickets"}),(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-xl shadow-sm",children:(0,b.jsx)(j.BarChart,{size:20})})]}),(0,b.jsx)("p",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:E.totalTickets.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:"All Open Tickets"})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg hover:scale-[1.02] transition-all duration-300 cursor-default",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-gray-500 font-semibold text-sm uppercase tracking-wider",children:"This Month"}),(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-xl shadow-sm",children:(0,b.jsx)(k.TrendingUp,{size:20})})]}),(0,b.jsx)("p",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:E.thisMonthTickets.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:"Done (Month-to-Date)"})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg hover:scale-[1.02] transition-all duration-300 cursor-default",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-gray-500 font-semibold text-sm uppercase tracking-wider",children:"Last Month Total"}),(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-violet-500 to-purple-600 text-white rounded-xl shadow-sm",children:(0,b.jsx)(k.TrendingUp,{size:20})})]}),(0,b.jsx)("p",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:E.lastMonthTickets.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:"Last Month's Total"})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg hover:scale-[1.02] transition-all duration-300 cursor-default",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-gray-500 font-semibold text-sm uppercase tracking-wider",children:"Year-to-Date"}),(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-amber-500 to-orange-600 text-white rounded-xl shadow-sm",children:(0,b.jsx)(i.Calendar,{size:20})})]}),(0,b.jsx)("p",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:E.yearToDateTickets?.toLocaleString()??"N/A"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:["Total Tickets in ",new Date().getFullYear()]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Tickets by Status"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-0.5",children:["Total: ",(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:af.toLocaleString()})," tickets"]})]}),(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-xl shadow-sm",children:(0,b.jsx)(l.Activity,{size:20})})]}),(0,b.jsx)("div",{className:"h-[250px] w-full mb-4",children:(0,b.jsx)(x.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(u.PieChart,{children:[(0,b.jsx)(v.Pie,{data:ag,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",animationDuration:1500,animationBegin:0,animationEasing:"ease-out",children:ag.map((a,c)=>(0,b.jsx)(w.Cell,{fill:a.color},`cell-${c}`))}),(0,b.jsx)(t.Tooltip,{})]})})}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:ag.map((a,c)=>{let d=af>0?(a.value/af*100).toFixed(1):"0.0";return(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:a.color}}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,b.jsx)("span",{className:"font-semibold",children:a.value.toLocaleString()}),(0,b.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",d,"%)"]})]})]})]},c)})})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Top Damage Types"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Breakdown by Category"})]}),(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-xl shadow-sm",children:(0,b.jsx)(m.Shield,{size:20})})]}),(0,b.jsx)("div",{className:"w-full",style:{height:`${Math.max(350,28*E.typeBreakdown.length)}px`},children:E.typeBreakdown.length>0?(0,b.jsx)(x.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(o.BarChart,{data:ah,layout:"vertical",margin:{top:5,right:30,left:10,bottom:5},children:[(0,b.jsx)(s.CartesianGrid,{strokeDasharray:"3 3",horizontal:!1}),(0,b.jsx)(q.XAxis,{type:"number"}),(0,b.jsx)(r.YAxis,{dataKey:"name",type:"category",width:140,tick:{fontSize:11},interval:0,tickFormatter:a=>a.length>20?a.substring(0,18)+"...":a}),(0,b.jsx)(t.Tooltip,{}),(0,b.jsx)(p.Bar,{dataKey:"count",fill:"#3B82F6",radius:[0,4,4,0],animationDuration:1500,animationBegin:300,animationEasing:"ease-out"})]})}):(0,b.jsx)("div",{className:"h-full flex items-center justify-center text-gray-400",children:"No data available"})})]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm mb-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-black",children:"Detailed Statistics Comparison"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Type of Damage Statistics: Period Comparison"})]}),_?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left",children:[(0,b.jsxs)("thead",{children:[(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"py-3 px-2"}),(0,b.jsx)("th",{className:"py-3 px-2 bg-blue-50 border-l border-gray-200",colSpan:2,children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-blue-700",children:"Period 1:"}),(0,b.jsx)("select",{value:L,onChange:a=>M(parseInt(a.target.value)),className:"px-2 py-1 rounded border border-blue-300 bg-white text-xs text-black focus:ring-2 focus:ring-blue-500",children:ab.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsx)("select",{value:N,onChange:a=>O(parseInt(a.target.value)),className:"px-2 py-1 rounded border border-blue-300 bg-white text-xs text-black focus:ring-2 focus:ring-blue-500",children:ac.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsxs)("span",{className:"text-xs text-blue-600",children:["(Total: ",X,")"]})]})}),(0,b.jsx)("th",{className:"py-3 px-2 bg-green-50 border-l border-gray-200",colSpan:2,children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-green-700",children:"Period 2:"}),(0,b.jsx)("select",{value:P,onChange:a=>Q(parseInt(a.target.value)),className:"px-2 py-1 rounded border border-green-300 bg-white text-xs text-black focus:ring-2 focus:ring-green-500",children:ab.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsx)("select",{value:R,onChange:a=>S(parseInt(a.target.value)),className:"px-2 py-1 rounded border border-green-300 bg-white text-xs text-black focus:ring-2 focus:ring-green-500",children:ac.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsxs)("span",{className:"text-xs text-green-600",children:["(Total: ",Z,")"]})]})})]}),(0,b.jsxs)("tr",{className:"text-xs text-gray-500 uppercase tracking-wider border-b-2 border-gray-200",children:[(0,b.jsx)("th",{className:"py-3 px-2 font-medium",children:"Damage Type"}),(0,b.jsxs)("th",{className:"py-3 px-2 font-medium text-center bg-blue-50 border-l border-gray-200",colSpan:2,children:[ab.find(a=>a.value===L)?.label," ",N]}),(0,b.jsxs)("th",{className:"py-3 px-2 font-medium text-center bg-green-50 border-l border-gray-200",colSpan:2,children:[ab.find(a=>a.value===P)?.label," ",R]})]}),(0,b.jsxs)("tr",{className:"text-xs text-gray-400 border-b border-gray-100",children:[(0,b.jsx)("th",{className:"py-2 px-2"}),(0,b.jsx)("th",{className:"py-2 px-2 text-center bg-blue-50/50 border-l border-gray-200",children:"Count"}),(0,b.jsx)("th",{className:"py-2 px-2 text-center bg-blue-50/50",children:"%"}),(0,b.jsx)("th",{className:"py-2 px-2 text-center bg-green-50/50 border-l border-gray-200",children:"Count"}),(0,b.jsx)("th",{className:"py-2 px-2 text-center bg-green-50/50",children:"%"})]})]}),(0,b.jsxs)("tbody",{className:"text-black text-sm divide-y divide-gray-50",children:[Array.from(new Set([...T.map(a=>a.type),...V.map(a=>a.type)])).sort((a,b)=>{let c=T.find(b=>b.type===a)?.count||0;return(T.find(a=>a.type===b)?.count||0)-c}).map(a=>{let c=T.find(b=>b.type===a),d=V.find(b=>b.type===a);return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-2 font-medium",children:a}),(0,b.jsx)("td",{className:"py-3 px-2 text-center font-mono text-blue-600 bg-blue-50/30 border-l border-gray-100",children:c?.count?.toLocaleString()||0}),(0,b.jsxs)("td",{className:"py-3 px-2 text-center text-blue-500 bg-blue-50/30",children:[c?.percentage?.toFixed(1)||0,"%"]}),(0,b.jsx)("td",{className:"py-3 px-2 text-center font-mono text-green-600 bg-green-50/30 border-l border-gray-100",children:d?.count?.toLocaleString()||0}),(0,b.jsxs)("td",{className:"py-3 px-2 text-center text-green-500 bg-green-50/30",children:[d?.percentage?.toFixed(1)||0,"%"]})]},a)}),0===T.length&&0===V.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"py-8 text-center text-gray-400",children:"No data available for selected periods"})})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[E.departmentBreakdown&&(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-black mb-1",children:"Department"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Statistics by Department"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-xs text-gray-500 uppercase tracking-wider border-b border-gray-100",children:[(0,b.jsx)("th",{className:"py-2 font-medium",children:"Department"}),(0,b.jsx)("th",{className:"py-2 font-medium text-right",children:"Count"}),(0,b.jsx)("th",{className:"py-2 font-medium text-right",children:"Percentage"})]})}),(0,b.jsxs)("tbody",{className:"text-black text-sm divide-y divide-gray-50",children:[E.departmentBreakdown.map(a=>{let c=E.totalTickets,d=c?a.count/c*100:0;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-2 font-medium",children:a.name}),(0,b.jsx)("td",{className:"py-2 text-right font-mono text-green-600",children:a.count.toLocaleString()}),(0,b.jsxs)("td",{className:"py-2 text-right text-gray-600",children:[d.toFixed(1),"%"]})]},a.name)}),0===E.departmentBreakdown.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:3,className:"py-4 text-center text-gray-400",children:"No data"})})]})]})})]}),E.locationBreakdown&&(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-black mb-1",children:"Area"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Statistics by Location"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-xs text-gray-500 uppercase tracking-wider border-b border-gray-100",children:[(0,b.jsx)("th",{className:"py-2 font-medium",children:"Area"}),(0,b.jsx)("th",{className:"py-2 font-medium text-right",children:"Count"}),(0,b.jsx)("th",{className:"py-2 font-medium text-right",children:"Percentage"})]})}),(0,b.jsxs)("tbody",{className:"text-black text-sm divide-y divide-gray-50",children:[E.locationBreakdown.map(a=>{let c=E.totalTickets,d=c?a.count/c*100:0;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-2 font-medium",children:a.name}),(0,b.jsx)("td",{className:"py-2 text-right font-mono text-green-600",children:a.count.toLocaleString()}),(0,b.jsxs)("td",{className:"py-2 text-right text-gray-600",children:[d.toFixed(1),"%"]})]},a.name)}),0===E.locationBreakdown.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:3,className:"py-4 text-center text-gray-400",children:"No data"})})]})]})})]}),E.informationByBreakdown&&(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm md:col-span-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-black mb-1",children:"Information by"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Statistics by Information Source"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-xs text-gray-500 uppercase tracking-wider border-b border-gray-100",children:[(0,b.jsx)("th",{className:"py-2 font-medium",children:"Source"}),(0,b.jsx)("th",{className:"py-2 font-medium text-right",children:"Count"}),(0,b.jsx)("th",{className:"py-2 font-medium text-right",children:"Percentage"}),(0,b.jsx)("th",{className:"py-2 font-medium"})]})}),(0,b.jsxs)("tbody",{className:"text-black text-sm divide-y divide-gray-50",children:[E.informationByBreakdown.map(a=>{let c=E.totalTickets,d=c?a.count/c*100:0;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-2 font-medium",children:a.name}),(0,b.jsx)("td",{className:"py-2 text-right font-mono text-green-600",children:a.count.toLocaleString()}),(0,b.jsxs)("td",{className:"py-2 text-right text-gray-600",children:[d.toFixed(1),"%"]}),(0,b.jsx)("td",{className:"py-2 w-1/3 pl-4",children:(0,b.jsx)("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${d}%`}})})})]},a.name)}),0===E.informationByBreakdown.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No data"})})]})]})})]})]}),E.departmentStatusBreakdown&&E.departmentStatusBreakdown.length>0&&(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm mb-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-black mb-1",children:"Department by Status"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Detailed Breakdown of Tickets by Department and Status"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-xs text-gray-500 uppercase tracking-wider border-b-2 border-gray-200",children:[(0,b.jsx)("th",{className:"py-3 px-4 font-semibold bg-gray-50",children:"Department"}),(0,b.jsx)("th",{className:"py-3 px-4 font-semibold text-center bg-blue-50 border-l border-gray-200",children:"New"}),(0,b.jsx)("th",{className:"py-3 px-4 font-semibold text-center bg-yellow-50 border-l border-gray-200",children:"On Process"}),(0,b.jsx)("th",{className:"py-3 px-4 font-semibold text-center bg-orange-50 border-l border-gray-200",children:"On Hold"}),(0,b.jsx)("th",{className:"py-3 px-4 font-semibold text-center bg-green-50 border-l border-gray-200",children:"Done"}),(0,b.jsx)("th",{className:"py-3 px-4 font-semibold text-center bg-red-50 border-l border-gray-200",children:"Cancel"}),(0,b.jsx)("th",{className:"py-3 px-4 font-semibold text-center bg-gray-100 border-l-2 border-gray-300",children:"Total"})]})}),(0,b.jsxs)("tbody",{className:"text-black text-sm divide-y divide-gray-100",children:[E.departmentStatusBreakdown.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-4 font-semibold",children:a.department}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-blue-600 border-l border-gray-100",children:a.NEW}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-yellow-600 border-l border-gray-100",children:a.IN_PROGRESS}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-orange-600 border-l border-gray-100",children:a.ON_HOLD}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-green-600 border-l border-gray-100",children:a.DONE}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-red-600 border-l border-gray-100",children:a.CANCEL}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono font-bold text-gray-700 border-l-2 border-gray-200 bg-gray-50",children:a.total})]},a.department)),(0,b.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2 border-gray-300",children:[(0,b.jsx)("td",{className:"py-3 px-4",children:"Total"}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-blue-700 border-l border-gray-200",children:E.departmentStatusBreakdown.reduce((a,b)=>a+b.NEW,0)}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-yellow-700 border-l border-gray-200",children:E.departmentStatusBreakdown.reduce((a,b)=>a+b.IN_PROGRESS,0)}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-orange-700 border-l border-gray-200",children:E.departmentStatusBreakdown.reduce((a,b)=>a+b.ON_HOLD,0)}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-green-700 border-l border-gray-200",children:E.departmentStatusBreakdown.reduce((a,b)=>a+b.DONE,0)}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-red-700 border-l border-gray-200",children:E.departmentStatusBreakdown.reduce((a,b)=>a+b.CANCEL,0)}),(0,b.jsx)("td",{className:"py-3 px-4 text-center font-mono text-gray-900 border-l-2 border-gray-300",children:E.totalTickets})]})]})]})})]})]})]}):null}}];

//# sourceMappingURL=app_dashboard_engineer_summary_page_tsx_0bb5d291._.js.map