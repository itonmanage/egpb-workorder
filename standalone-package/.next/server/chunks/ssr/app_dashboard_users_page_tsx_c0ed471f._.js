module.exports=[60788,a=>{"use strict";a.s(["default",()=>C],60788);var b=a.i(87924),c=a.i(72131),d=a.i(71630),e=a.i(50944),f=a.i(60246),g=a.i(15618),h=a.i(70106);let i=(0,h.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),j=(0,h.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var k=a.i(87532),l=a.i(13749),m=a.i(33508);let n=(0,h.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,h.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),p=(0,h.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),q=(0,h.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),r=(0,h.default)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),s=(0,h.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),t=(0,h.default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),u=(0,h.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var v=a.i(84505);let w=(0,h.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),x=(0,h.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var y=a.i(38246),z=a.i(64600);let A={ADMIN:{label:"Admin",icon:q,gradient:"from-red-500 to-pink-500",badge:"bg-gradient-to-r from-red-500 to-pink-500 text-white"},IT_ADMIN:{label:"IT Admin",icon:r,gradient:"from-blue-500 to-cyan-500",badge:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white"},ENGINEER_ADMIN:{label:"Engineer Admin",icon:s,gradient:"from-green-500 to-emerald-500",badge:"bg-gradient-to-r from-green-500 to-emerald-500 text-white"},EXE_AC:{label:"Executive & Accounting",icon:t,gradient:"from-amber-400 to-yellow-400",badge:"bg-amber-100 text-amber-800"},FB:{label:"F&B",icon:t,gradient:"from-orange-400 to-red-400",badge:"bg-orange-100 text-orange-800"},BANQUET:{label:"Banquet",icon:t,gradient:"from-purple-400 to-pink-400",badge:"bg-purple-100 text-purple-800"},FRONT_OFFICE:{label:"Front Office",icon:t,gradient:"from-cyan-400 to-blue-400",badge:"bg-cyan-100 text-cyan-800"},HK:{label:"Housekeeping",icon:t,gradient:"from-teal-400 to-cyan-400",badge:"bg-teal-100 text-teal-800"},HR:{label:"Human Resources",icon:t,gradient:"from-indigo-400 to-purple-400",badge:"bg-indigo-100 text-indigo-800"},JURISTIC:{label:"Juristic",icon:t,gradient:"from-violet-400 to-purple-400",badge:"bg-violet-100 text-violet-800"},KITCHEN:{label:"Kitchen",icon:t,gradient:"from-red-400 to-orange-400",badge:"bg-red-100 text-red-800"},RSVN_SALE:{label:"Reservation & Sales & Marketing",icon:t,gradient:"from-pink-400 to-rose-400",badge:"bg-pink-100 text-pink-800"},SEC:{label:"Security",icon:t,gradient:"from-slate-400 to-gray-400",badge:"bg-slate-100 text-slate-800"},ENG:{label:"Engineer",icon:t,gradient:"from-green-400 to-teal-400",badge:"bg-green-100 text-green-800"},USER:{label:"User",icon:t,gradient:"from-gray-400 to-gray-500",badge:"bg-gray-200 text-gray-700"}},B=a=>{let b=["from-purple-400 to-pink-400","from-blue-400 to-cyan-400","from-green-400 to-teal-400","from-yellow-400 to-orange-400","from-red-400 to-pink-400","from-indigo-400 to-purple-400"],c=a.charCodeAt(0)%b.length;return b[c]};function C(){let a=(0,e.useRouter)(),[h,t]=(0,c.useState)([]),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(1),[M,N]=(0,c.useState)(1),[O,P]=(0,c.useState)(0),[Q,R]=(0,c.useState)(new Set),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)("create"),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)({username:"",fullName:"",position:"",department:"",telephoneExtension:"",password:"",role:"USER"}),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(""),[ai,aj]=(0,c.useState)(!1),ak=(0,c.useMemo)(()=>{let a={};return h.forEach(b=>{a[b.role]=(a[b.role]||0)+1}),{total:O,admins:(a.ADMIN||0)+(a.IT_ADMIN||0)+(a.ENGINEER_ADMIN||0),itAdmins:a.IT_ADMIN||0,engineerAdmins:a.ENGINEER_ADMIN||0,regularUsers:O-((a.ADMIN||0)+(a.IT_ADMIN||0)+(a.ENGINEER_ADMIN||0))}},[h,O]),al=(0,c.useCallback)(async()=>{try{let a={page:K,limit:10};E&&(a.search=E),G&&(a.role=G);let b=await d.apiClient.users.list(a);b.success&&b.data&&(t(b.data.users||[]),b.data.pagination&&(N(b.data.pagination.totalPages),P(b.data.pagination.total)))}catch(a){console.error("Error fetching users:",a)}},[E,K,G]);(0,c.useEffect)(()=>{document.title="EGPB Ticket - Manage Users",(async()=>{let b=await d.apiClient.auth.getUser();if(b.success&&b.data?.user){let c=b.data.user;if(J(c),"ADMIN"!==c.role&&"IT_ADMIN"!==c.role)return a.push("/dashboard");await al()}else a.push("/login");D(!1)})()},[a,al]);let am=(0,c.useRef)(E),an=(0,c.useRef)(G);(0,c.useEffect)(()=>{if(!C){let a=setTimeout(()=>{(am.current!==E||an.current!==G)&&(L(1),am.current=E,an.current=G),al()},300);return()=>clearTimeout(a)}},[E,G,C,al]);let ao=()=>{V(!1),ah(""),af(!1)},ap=()=>{_(!1),ab(null)},aq=async a=>{a.preventDefault(),ah(""),aj(!0);try{if("create"===W){if(!ac.username||!ac.password){ah("Username and password are required"),aj(!1);return}let a=await d.apiClient.users.create(ac);a.success?(await al(),ao()):ah(a.error||"Failed to create user")}else{if(!Y)return;let a={username:ac.username,fullName:ac.fullName,position:ac.position,department:ac.department,telephoneExtension:ac.telephoneExtension,role:ac.role};ac.password&&(a.password=ac.password);let b=await d.apiClient.users.update(Y.id,a);b.success?(await al(),ao()):ah(b.error||"Failed to update user")}}catch(a){ah(a.message||"An error occurred")}finally{aj(!1)}},ar=async a=>{if(a.id===I?.id)return void alert("Cannot delete yourself!");if(confirm(`Are you sure you want to delete user "${a.username}"?`))try{let b=await d.apiClient.users.delete(a.id);b.success?await al():alert(b.error||"Failed to delete user")}catch(a){console.error("Error deleting user:",a),alert("An error occurred while deleting user")}},as=async()=>{if(0===Q.size)return;let a=h.filter(a=>Q.has(a.id)).map(a=>a.username).join(", ");if(confirm(`Are you sure you want to delete ${Q.size} user(s)?

${a}`))try{let a=Array.from(Q).map(a=>d.apiClient.users.delete(a));await Promise.all(a),await al(),R(new Set),T(!1)}catch(a){console.error("Error deleting users:",a),alert("An error occurred while deleting users")}};return C?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),(0,b.jsx)("p",{className:"mt-4 text-gray-700",children:"Loading..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,b.jsxs)(y.default,{href:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,b.jsx)(l.ChevronLeft,{size:20}),(0,b.jsx)("span",{children:"Back to Dashboard"})]})}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Users"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Create and manage user accounts"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{let a=h.map(a=>({Username:a.username,"Full Name":a.fullName||"",Position:a.position||"",Department:a.department||z.ROLE_TO_DEPARTMENT_MAP[a.role]||"",Role:A[a.role]?.label||a.role,"Created At":new Date(a.createdAt).toLocaleDateString("en-GB")})),b=Object.keys(a[0]),c=new Blob([[b.join(","),...a.map(a=>b.map(b=>`"${a[b]}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),e=URL.createObjectURL(c),f=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);d.setAttribute("href",e),d.setAttribute("download",`users_export_${f}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)},disabled:0===h.length,className:"flex items-center px-6 py-3 bg-white border-2 border-green-600 text-green-600 rounded-xl hover:bg-green-50 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(v.Download,{size:20,className:"mr-2"}),"Export Users"]}),(0,b.jsxs)("button",{onClick:()=>{X("create"),Z(null),ad({username:"",fullName:"",position:"",department:"",telephoneExtension:"",password:"",role:"USER"}),ah(""),V(!0)},className:"flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl font-medium",children:[(0,b.jsx)(g.Plus,{size:20,className:"mr-2"}),"Add User"]})]})]})]})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ak.total})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center",children:(0,b.jsx)(f.Users,{className:"text-white",size:28})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"All Admins"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ak.admins})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center",children:(0,b.jsx)(q,{className:"text-white",size:28})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"IT Admins"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ak.itAdmins})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center",children:(0,b.jsx)(r,{className:"text-white",size:28})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Engineer Admins"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ak.engineerAdmins})]}),(0,b.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center",children:(0,b.jsx)(s,{className:"text-white",size:28})})]})})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search users by username...",value:E,onChange:a=>F(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-900 placeholder-gray-400"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsxs)("select",{value:G,onChange:a=>H(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-900 appearance-none bg-white",children:[(0,b.jsx)("option",{value:"",children:"All Roles"}),Object.entries(A).map(([a,c])=>(0,b.jsx)("option",{value:a,children:c.label},a))]})]})]}),(E||G)&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Active filters:"}),E&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:["Search: ",E,(0,b.jsx)("button",{onClick:()=>F(""),className:"hover:text-blue-900",children:(0,b.jsx)(m.X,{size:14})})]}),G&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:["Role: ",A[G]?.label,(0,b.jsx)("button",{onClick:()=>H(""),className:"hover:text-green-900",children:(0,b.jsx)(m.X,{size:14})})]}),(0,b.jsx)("button",{onClick:()=>{F(""),H("")},className:"ml-auto text-sm text-gray-600 hover:text-gray-900",children:"Clear all"})]})]}),Q.size>0&&(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[Q.size," user(s) selected"]}),(0,b.jsxs)("button",{onClick:as,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:[(0,b.jsx)(j,{size:16,className:"mr-2"}),"Delete Selected"]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left",children:(0,b.jsx)("button",{onClick:()=>{S?(R(new Set),T(!1)):(R(new Set(h.map(a=>a.id))),T(!0))},className:"flex items-center justify-center w-5 h-5 text-green-600 hover:text-green-700",children:S?(0,b.jsx)(w,{size:20}):(0,b.jsx)(x,{size:20})})}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Full Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Created At"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===h.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:7,className:"px-6 py-16 text-center",children:[(0,b.jsx)(f.Users,{size:64,className:"mx-auto mb-4 text-gray-300"}),(0,b.jsx)("p",{className:"text-gray-900 font-medium text-lg mb-2",children:"No users found"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:E||G?"Try different filters":'Click "Add User" to create one'})]})}):h.map(a=>{let c=A[a.role]||A.USER,d=c.icon;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsx)("button",{onClick:()=>(a=>{let b=new Set(Q);b.has(a)?b.delete(a):b.add(a),R(b),T(b.size===h.length)})(a.id),className:"flex items-center justify-center w-5 h-5 text-green-600 hover:text-green-700",children:Q.has(a.id)?(0,b.jsx)(w,{size:20}):(0,b.jsx)(x,{size:20})})}),(0,b.jsx)("td",{className:"px-6 py-5 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`flex-shrink-0 h-12 w-12 bg-gradient-to-br ${B(a.username)} rounded-full flex items-center justify-center shadow-md`,children:(0,b.jsx)("span",{className:"text-white font-bold text-lg",children:a.username.charAt(0).toUpperCase()})}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:a.username})})]})}),(0,b.jsx)("td",{className:"px-6 py-5 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-900",children:a.fullName||"-"})}),(0,b.jsx)("td",{className:"px-6 py-5 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.department||z.ROLE_TO_DEPARTMENT_MAP[a.role]||"-"})}),(0,b.jsx)("td",{className:"px-6 py-5 whitespace-nowrap",children:(0,b.jsxs)("span",{className:`px-3 py-1.5 inline-flex items-center gap-1.5 text-xs font-semibold rounded-full ${c.badge} shadow-sm`,children:[(0,b.jsx)(d,{size:14}),c.label]})}),(0,b.jsx)("td",{className:"px-6 py-5 whitespace-nowrap text-sm text-gray-600",children:new Date(a.createdAt).toLocaleDateString("en-GB")}),(0,b.jsx)("td",{className:"px-6 py-5 whitespace-nowrap text-right text-sm font-medium",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>{ab(a),_(!0)},className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded-lg transition-colors",title:"View Details",children:(0,b.jsx)(p,{size:18})}),(0,b.jsx)("button",{onClick:()=>{X("edit"),Z(a),ad({username:a.username,fullName:a.fullName||"",position:a.position||"",department:a.department||"",telephoneExtension:a.telephoneExtension||"",password:"",role:a.role}),ah(""),V(!0)},className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(i,{size:18})}),(I?.role==="ADMIN"||I?.role==="IT_ADMIN")&&a.id!==I.id&&(0,b.jsx)("button",{onClick:()=>ar(a),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(j,{size:18})})]})})]},a.id)})})]})})}),M>1&&(0,b.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>L(a=>Math.max(1,a-1)),disabled:1===K,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 font-medium transition-colors",children:"Previous"}),Array.from({length:Math.min(M,5)},(a,c)=>{let d;return d=M<=5||K<=3?c+1:K>=M-2?M-4+c:K-2+c,(0,b.jsx)("button",{onClick:()=>L(d),className:`px-4 py-2 rounded-lg font-medium transition-all ${K===d?"bg-gradient-to-r from-green-600 to-emerald-600 text-white shadow-md":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:d},d)}),(0,b.jsx)("button",{onClick:()=>L(a=>Math.min(M,a+1)),disabled:K===M,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 font-medium transition-colors",children:"Next"})]})]}),U&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"create"===W?"Add New User":"Edit User"}),(0,b.jsx)("button",{onClick:ao,className:"text-gray-400 hover:text-gray-900 transition-colors",children:(0,b.jsx)(m.X,{size:24})})]}),(0,b.jsxs)("form",{onSubmit:aq,className:"p-6",children:[ag&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:ag}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),(0,b.jsx)("input",{type:"text",value:ac.username,onChange:a=>ad({...ac,username:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,b.jsx)("input",{type:"text",value:ac.fullName,onChange:a=>ad({...ac,fullName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,b.jsx)("input",{type:"text",value:ac.position,onChange:a=>ad({...ac,position:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,b.jsx)("input",{type:"text",value:ac.department,onChange:a=>ad({...ac,department:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telephone Extension"}),(0,b.jsx)("input",{type:"text",value:ac.telephoneExtension,onChange:a=>ad({...ac,telephoneExtension:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ","edit"===W&&"(leave blank to keep current)"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:ae?"text":"password",value:ac.password,onChange:a=>ad({...ac,password:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900",required:"create"===W}),(0,b.jsx)("button",{type:"button",onClick:()=>af(!ae),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-900",children:ae?(0,b.jsx)(o,{size:20}):(0,b.jsx)(n,{size:20})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),(0,b.jsx)("select",{value:ac.role,onChange:a=>ad({...ac,role:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900",required:!0,children:Object.entries(A).map(([a,c])=>(0,b.jsx)("option",{value:a,children:c.label},a))})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:ao,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:ai,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 font-medium disabled:opacity-50 transition-all shadow-md",disabled:ai,children:ai?"Saving...":"create"===W?"Create User":"Save Changes"})]})]})]})}),$&&aa&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User Details"}),(0,b.jsx)("button",{onClick:ap,className:"text-gray-400 hover:text-gray-900 transition-colors",children:(0,b.jsx)(m.X,{size:24})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsx)("div",{className:`h-24 w-24 bg-gradient-to-br ${B(aa.username)} rounded-full flex items-center justify-center shadow-lg`,children:(0,b.jsx)("span",{className:"text-white font-bold text-4xl",children:aa.username.charAt(0).toUpperCase()})})}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Username"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:aa.username})]}),aa.fullName&&(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Full Name"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:aa.fullName})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Position"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:aa.position||"-"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Department"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:aa.department||"-"})]})]}),aa.telephoneExtension&&(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Telephone"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:aa.telephoneExtension})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Role"}),(0,b.jsxs)("span",{className:`px-3 py-1.5 inline-flex items-center gap-1.5 text-xs font-semibold rounded-full ${A[aa.role]?.badge||A.USER.badge} shadow-sm mt-1`,children:[(()=>{let a=A[aa.role]?.icon||A.USER.icon;return(0,b.jsx)(a,{size:14})})(),A[aa.role]?.label||aa.role]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Created At"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:new Date(aa.createdAt).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"User ID"}),(0,b.jsx)("p",{className:"text-gray-900 font-mono text-xs break-all",children:aa.id})]})]}),(0,b.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,b.jsx)("button",{onClick:ap,className:"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 font-medium transition-all shadow-md",children:"Close"})})]})})]})}}];

//# sourceMappingURL=app_dashboard_users_page_tsx_c0ed471f._.js.map