module.exports=[20731,a=>{"use strict";a.s(["default",()=>G],20731);var b=a.i(87924),c=a.i(72131),d=a.i(71630),e=a.i(38246),f=a.i(15618),g=a.i(87532),h=a.i(92e3),i=a.i(41710),j=a.i(16201),k=a.i(84505),l=a.i(60246),m=a.i(23312),n=a.i(2710),o=a.i(72692),p=a.i(5784),q=a.i(13749),r=a.i(50522),s=a.i(70106);let t=(0,s.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),u=(0,s.default)("circle-pause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);var v=a.i(41675),w=a.i(33508),x=a.i(70426),y=a.i(51460),z=a.i(50944),A=a.i(77598),B=a.i(10586),C=a.i(13165),D=a.i(17981),E=a.i(70448),F=a.i(96973);function G(){let a=(0,z.useRouter)();(0,c.useEffect)(()=>{document.title="EGPB Ticket - IT Dashboard"},[]);let[s,G]=(0,c.useState)([]),[H,I]=(0,c.useState)({NEW:0,IN_PROGRESS:0,ON_HOLD:0,DONE:0,CANCEL:0}),[J,K]=(0,c.useState)(!0),[L,M]=(0,c.useState)(0),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)([]),[al,am]=(0,c.useState)(new Set),an=(0,c.useCallback)(async()=>{try{K(!0);let a={limit:20,offset:(af-1)*20};X&&(a.search=X),_&&(a.status=_),Z&&(a.type=Z),ab&&(a.startDate=ab),ad&&(a.endDate=ad),ah&&(a.createdByMe="true");let b=await d.apiClient.tickets.list(a);b.success&&b.data&&(G(b.data.tickets||[]),M(b.data.count||0))}catch(a){console.error("Error fetching tickets:",a)}finally{K(!1)}},[af,X,_,Z,ab,ad,ah]),ao=(0,c.useCallback)(async()=>{try{let a=await d.apiClient.tickets.list({status:"NEW",limit:20,unviewedOnly:"true"});a.success&&a.data&&ak(a.data.tickets||[])}catch(a){console.error("Error fetching notifications:",a)}},[]),ap=(0,c.useCallback)(async()=>{try{let a={limit:1};ab&&(a.startDate=ab),ad&&(a.endDate=ad);let b=await d.apiClient.tickets.list(a);b.success&&b.data&&b.data.statusCounts&&I(b.data.statusCounts)}catch(a){console.error("Error fetching stats:",a)}},[ab,ad]);(0,c.useEffect)(()=>{(async()=>{let b=await d.apiClient.auth.getUser();if(!(b.success&&b.data?.user))return a.push("/login");{let a=b.data.user;S(a.username),Q(a.role),O("ADMIN"===a.role||"IT_ADMIN"===a.role),await ap(),await ao(),await an()}})()},[a,ap,an,ao]),(0,c.useEffect)(()=>{let a="true"===new URLSearchParams(window.location.search).get("refresh"),b="true"===sessionStorage.getItem("dashboardRefresh");(a||b)&&(sessionStorage.setItem("dashboardRefresh","true"),an(),ap(),ao(),a&&window.history.replaceState({},"","/dashboard"),setTimeout(()=>{sessionStorage.removeItem("dashboardRefresh")},2e3))},[an,ap,ao]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{an()},300);return()=>clearTimeout(a)},[an]),(0,B.useSSENotifications)("it",N,{onNewTicket:()=>{an(),ap(),ao()}}),(0,c.useEffect)(()=>{let a=()=>{"visible"===document.visibilityState&&(an(),ap(),ao())},b=()=>{an(),ap(),ao()};return document.addEventListener("visibilitychange",a),window.addEventListener("focus",b),()=>{document.removeEventListener("visibilitychange",a),window.removeEventListener("focus",b)}},[an,ap,ao]);let aq=async()=>{try{let a={limit:1e4};X&&(a.search=X),_&&(a.status=_),Z&&(a.type=Z),ab&&(a.startDate=ab),ad&&(a.endDate=ad);let b=await d.apiClient.tickets.list(a);if(b.success&&b.data){let a=b.data.tickets||[];if(0===a.length)return void alert("No tickets to export");let c=a.map(a=>({"Ticket Number":a.ticketNumber,Location:a.title||"",Description:a.description||"",Department:a.department||"",Area:a.location||"","Type of Damage":a.typeOfDamage,Status:(0,D.getStatusDisplayName)(a.status),"Admin Notes":a.adminNotes||"","Assign To":a.assignTo||"","Created At":new Date(a.createdAt).toLocaleString("th-TH"),"Last Updated":new Date(a.updatedAt).toLocaleString("th-TH"),Reporter:a.user?.username||"","Image Links":a.images?.map(a=>{let b=a.imageUrl||a.image_url;return b?`http://10.70.0.34:3000${b}`:null}).filter(Boolean).join(", ")||"No Images"})),d=`EGPB_Tickets_${new Date().toISOString().split("T")[0]}.xlsx`;(0,y.exportToExcel)(c,d)}}catch(a){console.error("Error exporting:",a),alert("Failed to export tickets")}},ar=async()=>{try{await d.apiClient.tickets.markAllRead(),ak([]),U(!1)}catch(a){console.error("Error marking all as read:",a)}},as=async()=>{await d.apiClient.auth.signOut(),window.location.href="/"},at=(0,c.useMemo)(()=>aj.length,[aj]),au=Math.ceil(L/20);return R?(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)(A.ToastContainer,{}),(0,b.jsxs)("nav",{className:"bg-white border-b border-green-100 px-6 py-4 flex justify-between items-center sticky top-0 z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>W(!V),className:"p-2 hover:bg-green-50 rounded-lg transition-colors text-black flex items-center gap-2",children:[(0,b.jsx)(o.Menu,{size:24}),(0,b.jsx)("span",{className:"font-medium hidden md:inline",children:"Menu"}),(0,b.jsx)(p.ChevronDown,{size:16,className:`transition-transform duration-200 ${V?"rotate-180":""}`})]}),V&&(0,b.jsxs)("div",{className:"absolute left-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-green-100 z-50 overflow-hidden",children:[(0,b.jsx)(e.default,{href:"/dashboard/home",className:"block px-4 py-3 text-black hover:bg-green-50 transition-colors font-medium",onClick:()=>W(!1),children:"Home"}),(0,b.jsx)(e.default,{href:"/dashboard/engineer",className:"block px-4 py-3 text-black hover:bg-green-50 transition-colors font-medium",onClick:()=>W(!1),children:"Engineer Dashboard"}),(0,b.jsx)(e.default,{href:"/dashboard",className:"block px-4 py-3 text-black hover:bg-green-50 transition-colors font-medium border-l-4 border-green-600 bg-green-50/50",onClick:()=>W(!1),children:"IT Dashboard"})]})]}),(0,b.jsxs)("div",{className:"text-xl font-bold text-green-600 tracking-tighter cursor-default",children:["EGPB",(0,b.jsx)("span",{className:"text-black",children:"Ticket"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[("ADMIN"===P||"IT_ADMIN"===P)&&(0,b.jsxs)(e.default,{href:"/dashboard/users",className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-all shadow-sm hover:shadow-md font-medium",children:[(0,b.jsx)(l.Users,{size:20,className:"mr-2"}),"Manage Users"]}),N&&(0,b.jsxs)(e.default,{href:"/dashboard/summary",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md font-medium",children:[(0,b.jsx)(n.BarChart,{size:20,className:"mr-2"}),"Summary"]}),N&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>U(!T),className:"p-2 hover:bg-green-50 rounded-lg transition-colors cursor-pointer relative",children:[(0,b.jsx)(m.Bell,{size:20,className:"text-black"}),at>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold animate-pulse",children:at})]}),T&&(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-green-100 z-50 max-h-[500px] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-green-100 flex justify-between items-center bg-green-50",children:[(0,b.jsxs)("h3",{className:"font-bold text-black",children:["New Tickets (",at,")"]}),at>0&&(0,b.jsx)("button",{onClick:ar,className:"text-xs text-green-600 hover:text-green-700 font-medium",children:"Mark all as read"})]}),(0,b.jsx)("div",{className:"overflow-y-auto max-h-[400px]",children:0===aj.length?(0,b.jsxs)("div",{className:"p-8 text-center text-black",children:[(0,b.jsx)(m.Bell,{size:32,className:"mx-auto mb-2 opacity-30"}),(0,b.jsx)("p",{className:"text-sm",children:"No new tickets"})]}):aj.map(a=>(0,b.jsx)(e.default,{href:`/dashboard/ticket/${a.id}`,onClick:()=>{ak(aj.filter(b=>b.id!==a.id)),U(!1)},className:"block p-4 hover:bg-green-50 border-b border-green-50 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-red-500 rounded-full mt-2"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"text-xs font-mono text-black bg-gray-100 px-2 py-0.5 rounded",children:a.ticketNumber}),(0,b.jsx)("span",{className:"text-xs text-black",children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)("h4",{className:"font-semibold text-black text-sm mb-1 truncate",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-black line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsxs)("span",{className:"text-xs text-black",children:["ðŸ“ ",a.location||"N/A"]}),(0,b.jsxs)("span",{className:"text-xs text-black",children:["ðŸ”§ ",a.typeOfDamage]})]})]})]})},a.id))})]})]}),N&&(0,b.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full uppercase tracking-wider",children:"Admin Mode"}),(0,b.jsx)(E.default,{}),(0,b.jsx)(F.default,{username:R,userRole:P,onLogout:as,onFilterMyTickets:()=>{ai(!0),ag(1)}})]})]}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-black",children:"IT Dashboard"}),(0,b.jsx)("p",{className:"text-black",children:N?"Manage all repair tickets across the organization":"Manage and track your repair tickets"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[ah&&(0,b.jsxs)("button",{onClick:()=>{ai(!1),ag(1)},className:"flex items-center px-4 py-2 bg-blue-100 text-blue-700 border border-blue-200 rounded-xl hover:bg-blue-200 transition-all font-medium",children:[(0,b.jsx)(x.FilterX,{size:20,className:"mr-2"}),"Clear My Tickets Filter"]}),(0,b.jsxs)("button",{onClick:aq,className:"flex items-center px-4 py-2 bg-white text-green-600 border border-green-200 rounded-xl hover:bg-green-50 transition-all font-medium",children:[(0,b.jsx)(k.Download,{size:20,className:"mr-2"}),"Export Excel"]}),(0,b.jsxs)(e.default,{href:"/dashboard/create",className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all shadow-sm hover:shadow-md font-medium",children:[(0,b.jsx)(f.Plus,{size:20,className:"mr-2"}),"Create Ticket"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-black font-medium",children:"New Tickets"}),(0,b.jsx)("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:(0,b.jsx)(h.AlertCircle,{size:20})})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-black",children:H.NEW})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-black font-medium",children:"On Process"}),(0,b.jsx)("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:(0,b.jsx)(i.Clock,{size:20})})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-black",children:H.IN_PROGRESS})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-black font-medium",children:"On Hold"}),(0,b.jsx)("div",{className:"p-2 bg-orange-100 text-orange-600 rounded-lg",children:(0,b.jsx)(u,{size:20})})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-black",children:H.ON_HOLD})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-black font-medium",children:"Done ( MTD )"}),(0,b.jsx)("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:(0,b.jsx)(j.CheckCircle,{size:20})})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-black",children:H.DONE})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-green-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-black font-medium",children:"Cancel"}),(0,b.jsx)("div",{className:"p-2 bg-red-100 text-red-600 rounded-lg",children:(0,b.jsx)(t,{size:20})})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-black",children:H.CANCEL})]})]}),(0,b.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[300px]",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-black",size:18}),(0,b.jsx)("input",{type:"text",placeholder:"Search tickets...",value:X,onChange:a=>Y(a.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-green-200 bg-white text-black focus:outline-none focus:ring-2 focus:ring-green-400"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-green-200 rounded-xl px-3 py-2",children:[(0,b.jsx)(v.Calendar,{size:18,className:"text-black"}),(0,b.jsx)("input",{type:"date",value:ab,onChange:a=>ac(a.target.value),className:"bg-transparent text-black text-sm focus:outline-none"}),(0,b.jsx)("span",{className:"text-gray-400",children:"-"}),(0,b.jsx)("input",{type:"date",value:ad,onChange:a=>ae(a.target.value),className:"bg-transparent text-black text-sm focus:outline-none"}),(ab||ad)&&(0,b.jsx)("button",{onClick:()=>{ac(""),ae("")},className:"text-gray-500 hover:text-gray-700",children:(0,b.jsx)(w.X,{size:16})})]}),(0,b.jsxs)("div",{className:"relative min-w-[140px]",children:[(0,b.jsxs)("select",{value:Z,onChange:a=>$(a.target.value),className:"w-full appearance-none pl-4 pr-10 py-3 bg-white border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-700",children:[(0,b.jsx)("option",{value:"",children:"All Types"}),(0,b.jsx)("option",{value:"Hardware",children:"Hardware"}),(0,b.jsx)("option",{value:"Network / Internet / WIFI",children:"Network / Internet / WIFI"}),(0,b.jsx)("option",{value:"Software",children:"Software"}),(0,b.jsx)("option",{value:"Access / Permission",children:"Access / Permission"}),(0,b.jsx)("option",{value:"Printing / Scanning",children:"Printing / Scanning"}),(0,b.jsx)("option",{value:"POS",children:"POS"}),(0,b.jsx)("option",{value:"CCTV",children:"CCTV"}),(0,b.jsx)("option",{value:"Access Control",children:"Access Control"}),(0,b.jsx)("option",{value:"Email / Communication",children:"Email / Communication"}),(0,b.jsx)("option",{value:"Service Request",children:"Service Request"}),(0,b.jsx)("option",{value:"Security Incident",children:"Security Incident"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]}),(0,b.jsx)(p.ChevronDown,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),(0,b.jsxs)("div",{className:"relative min-w-[140px]",children:[(0,b.jsxs)("select",{value:_,onChange:a=>aa(a.target.value),className:"w-full appearance-none pl-4 pr-10 py-3 bg-white border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-700",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"NEW",children:"New"}),(0,b.jsx)("option",{value:"IN_PROGRESS",children:"On Process"}),(0,b.jsx)("option",{value:"ON_HOLD",children:"On Hold"}),(0,b.jsx)("option",{value:"DONE",children:"Done"}),(0,b.jsx)("option",{value:"CANCEL",children:"Cancel"})]}),(0,b.jsx)(p.ChevronDown,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]}),(X||Z||_||ab||ad)&&(0,b.jsxs)("button",{onClick:()=>{Y(""),$(""),aa(""),ac(""),ae("")},className:"px-4 py-3 bg-red-50 text-red-600 border border-red-100 rounded-xl hover:bg-red-100 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Clear All Filters",children:[(0,b.jsx)(x.FilterX,{size:18}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-green-100 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left min-w-max",children:[(0,b.jsx)("thead",{className:"bg-green-50 border-b border-green-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Ticket ID"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Area"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Location"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Department"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Type Of Damage"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Request By"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Date"}),(0,b.jsx)("th",{className:"px-3 py-3 font-semibold text-sm text-black whitespace-nowrap",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-semibold text-sm text-black w-10"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-green-100",children:J?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"p-0",children:(0,b.jsx)(C.TableSkeleton,{rows:10})})}):0===s.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"px-6 py-8 text-center text-black",children:X||Z||_||ab||ad?"No tickets match your search/filter criteria.":"No tickets found. Create one to get started!"})}):s.map(a=>{let c=al.has(a.id);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("tr",{className:"border-b border-green-100 hover:bg-green-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:(0,b.jsx)(e.default,{href:`/dashboard/ticket/${a.id}`,className:"font-mono text-sm text-green-600 hover:text-green-700 hover:underline",children:a.ticketNumber})}),(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-black whitespace-nowrap max-w-[100px] truncate",title:a.location||"-",children:a.location||"-"}),(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-black whitespace-nowrap max-w-[120px] truncate",title:a.title||"-",children:a.title||"-"}),(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-black whitespace-nowrap max-w-[100px] truncate",title:a.department||"-",children:a.department||"-"}),(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-black whitespace-nowrap max-w-[120px] truncate",title:a.typeOfDamage,children:a.typeOfDamage}),(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-black whitespace-nowrap",children:a.user?.username||"Unknown"}),(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-black whitespace-nowrap",children:new Date(a.createdAt).toLocaleDateString("en-GB")}),(0,b.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(0,D.getStatusColor)(a.status)}`,children:(0,D.getStatusDisplayName)(a.status)})}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)("button",{onClick:()=>{let b=new Set(al);c?b.delete(a.id):b.add(a.id),am(b)},className:"text-green-600 hover:text-green-700 transition-transform",style:{transform:c?"rotate(180deg)":"rotate(0deg)"},children:(0,b.jsx)(p.ChevronDown,{size:16})})})]},a.id),c&&(0,b.jsx)("tr",{className:"bg-green-50/50",children:(0,b.jsx)("td",{colSpan:10,className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-black min-w-fit",children:"Description:"}),(0,b.jsx)("p",{className:"text-sm text-black leading-relaxed",children:a.description||"No description provided"})]})})},`${a.id}-desc`)]})})})]})}),L>0&&(0,b.jsxs)("div",{className:"px-6 py-4 border-t border-green-100 flex items-center justify-between bg-gray-50",children:[(0,b.jsxs)("p",{className:"text-sm text-black",children:["Showing ",(0,b.jsx)("span",{className:"font-medium",children:(af-1)*20+1})," to ",(0,b.jsx)("span",{className:"font-medium",children:Math.min(20*af,L)})," of ",(0,b.jsx)("span",{className:"font-medium",children:L})," results"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>ag(a=>Math.max(a-1,1)),disabled:1===af,className:"p-2 rounded-lg border border-gray-300 bg-white text-black hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,b.jsx)(q.ChevronLeft,{size:16})}),(0,b.jsxs)("span",{className:"px-4 py-2 text-sm font-medium text-black bg-white border border-gray-300 rounded-lg",children:["Page ",af," of ",au]}),(0,b.jsx)("button",{onClick:()=>ag(a=>Math.min(a+1,au)),disabled:af===au,className:"p-2 rounded-lg border border-gray-300 bg-white text-black hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,b.jsx)(r.ChevronRight,{size:16})})]})]})]})]})]}):null}}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map