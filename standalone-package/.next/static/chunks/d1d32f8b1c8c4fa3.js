(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44215,99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["apiClient",()=>r],44215),e.s(["_",()=>t],99749);let r=new class{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=await fetch("".concat(this.baseUrl,"/api").concat(e),{...t,headers:{"Content-Type":"application/json",...t.headers},credentials:"include"}),s=await r.json();if(!r.ok){if(401===r.status&&"/"!==window.location.pathname&&"/login"!==window.location.pathname)return window.location.href="/login",{success:!1,error:"Session expired. Redirecting to login..."};return{success:!1,error:s.error||"An error occurred"}}return{success:!0,data:s.data||s}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}constructor(){t(this,"baseUrl",void 0),t(this,"auth",{signIn:async(e,t)=>this.request("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})}),signOut:async()=>this.request("/auth/logout",{method:"POST"}),getUser:async()=>this.request("/auth/me"),signUp:async(e,t,r)=>this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,username:t,password:r})})}),t(this,"tickets",{list:async e=>{let t=new URLSearchParams;return e&&Object.keys(e).forEach(r=>{let s=e[r];void 0!==s&&""!==s&&t.append(r,String(s))}),this.request("/tickets?".concat(t))},get:async e=>{var t;let r=await this.request("/tickets/".concat(e));if(!r.success)return r;let s=null==(t=r.data)?void 0:t.ticket;return s?{success:!0,data:s}:{success:!1,error:"Invalid ticket response"}},create:async e=>{var t;let r=await this.request("/tickets",{method:"POST",body:JSON.stringify(e)});if(!r.success)return r;let s=null==(t=r.data)?void 0:t.ticket;return s?{success:!0,data:s}:{success:!1,error:"Invalid ticket response"}},update:async(e,t)=>{var r;let s=await this.request("/tickets/".concat(e),{method:"PATCH",body:JSON.stringify(t)});if(!s.success)return s;let a=null==(r=s.data)?void 0:r.ticket;return a?{success:!0,data:a}:{success:!1,error:"Invalid ticket response"}},delete:async e=>this.request("/tickets/".concat(e),{method:"DELETE"}),markAllRead:async()=>this.request("/tickets/mark-read",{method:"POST"})}),t(this,"engineerTickets",{list:async e=>{let t=new URLSearchParams;return e&&Object.keys(e).forEach(r=>{let s=e[r];void 0!==s&&""!==s&&t.append(r,String(s))}),this.request("/engineer-tickets?".concat(t))},get:async e=>{var t;let r=await this.request("/engineer-tickets/".concat(e));if(!r.success)return r;let s=null==(t=r.data)?void 0:t.ticket;return s?{success:!0,data:s}:{success:!1,error:"Invalid engineer ticket response"}},create:async e=>{var t;let r=await this.request("/engineer-tickets",{method:"POST",body:JSON.stringify(e)});if(!r.success)return r;let s=null==(t=r.data)?void 0:t.ticket;return s?{success:!0,data:s}:{success:!1,error:"Invalid engineer ticket response"}},update:async(e,t)=>{var r;let s=await this.request("/engineer-tickets/".concat(e),{method:"PATCH",body:JSON.stringify(t)});if(!s.success)return s;let a=null==(r=s.data)?void 0:r.ticket;return a?{success:!0,data:a}:{success:!1,error:"Invalid engineer ticket response"}},markAllRead:async()=>this.request("/engineer-tickets/mark-read",{method:"POST"})}),t(this,"users",{list:async e=>{let t=new URLSearchParams;return e&&Object.keys(e).forEach(r=>{let s=e[r];void 0!==s&&""!==s&&t.append(r,String(s))}),this.request("/users?".concat(t))},get:async e=>this.request("/users/".concat(e)),create:async e=>this.request("/users",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>this.request("/users/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),delete:async e=>this.request("/users/".concat(e),{method:"DELETE"})}),t(this,"stats",{summary:async e=>{let t=new URLSearchParams;return(null==e?void 0:e.from)&&t.append("from",e.from),(null==e?void 0:e.to)&&t.append("to",e.to),(null==e?void 0:e.type)&&t.append("type",e.type),this.request("/stats/summary?".concat(t.toString()))},damageTypes:async e=>{let t=new URLSearchParams;return t.append("month",e.month.toString()),t.append("year",e.year.toString()),t.append("type",e.type),this.request("/stats/damage-types?".concat(t.toString()))}}),this.baseUrl=""}}},18566,(e,t,r)=>{t.exports=e.r(76562)},75254,e=>{"use strict";e.s(["default",()=>i],75254);var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:o="",children:d,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...a,width:i,height:i,stroke:n,strokeWidth:l?24*Number(c)/Number(i):c,className:s("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(d)?d:[d]])}),i=(e,a)=>{let i=(0,t.forwardRef)((i,c)=>{let{className:l,...o}=i;return(0,t.createElement)(n,{ref:c,iconNode:a,className:s("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...o})});return i.displayName=r(e),i}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31278,e=>{"use strict";e.s(["Loader2",()=>t],31278);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},89954,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),r=e.i(71645),s=e.i(44215),a=e.i(18566),n=e.i(31278),i=e.i(63209);function c(){let[e,c]=(0,r.useState)(""),[l,o]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[g,p]=(0,r.useState)(null),f=(0,a.useRouter)(),y=(0,a.useSearchParams)();(0,r.useEffect)(()=>{"true"===y.get("timeout")&&p("You have been logged out due to inactivity (30 mins).")},[y]);let x=async t=>{t.preventDefault(),u(!0),h(null),p(null);try{let t=await s.apiClient.auth.signIn(e,l);if(!t.success)throw Error(t.error||"Login failed");f.push("/dashboard/home"),f.refresh()}catch(e){h(e instanceof Error?e.message:"An error occurred")}finally{u(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#f3f4f6] relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center opacity-10"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 to-[#f3f4f6]"})]}),(0,t.jsxs)("div",{className:"w-full max-w-[400px] bg-white rounded-lg shadow-2xl z-10 p-8 md:p-10 border-t-4 border-green-600",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"inline-flex items-center justify-center mb-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 bg-green-600 rounded-lg flex items-center justify-center text-white font-bold text-xl mr-2",children:"E"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:["EGPB",(0,t.jsx)("span",{className:"text-green-600",children:"Ticket"})]})]}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Sign In"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Welcome back! Please enter your details."})]}),g&&(0,t.jsxs)("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-100 text-blue-600 text-sm rounded-md flex items-center",children:[(0,t.jsx)(i.AlertCircle,{className:"h-4 w-4 mr-2 flex-shrink-0"}),g]}),m&&(0,t.jsxs)("div",{className:"mb-6 p-3 bg-red-50 border border-red-100 text-red-600 text-sm rounded-md flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m]}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,t.jsx)("input",{type:"text",id:"username",name:"username",autoComplete:"username",value:e,onChange:e=>c(e.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-md text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Enter your username",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"})}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",autoComplete:"current-password",value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-md text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Enter your password",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"w-full py-2.5 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition-colors duration-200 flex items-center justify-center shadow-sm disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Loader2,{className:"animate-spin mr-2 h-4 w-4"}),"Signing in..."]}):"Sign In"})]}),(0,t.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Â© 2025 EGPB Ticket System. All rights reserved."})})]})]})}function l(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#f3f4f6]",children:(0,t.jsx)(n.Loader2,{className:"animate-spin h-8 w-8 text-green-600"})}),children:(0,t.jsx)(c,{})})}}]);